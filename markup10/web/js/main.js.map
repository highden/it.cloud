{"version":3,"sources":["main.js"],"names":["countries","App","input","list","init","this","document","getElementById","handlers","addEventListener","e","onKeyUp","onSelect","setValue","target","value","textContent","focus","innerHTML","val","toLowerCase","code","which","keyCode","includes","navigate","split","forEach","item","render","active","querySelector","sibling","nextElementSibling","previousElementSibling","classList","remove","add","scrolltop","offsetHeight","thislist","console","log","offsetTop","side","firstElementChild","lastElementChild","el","$","ready"],"mappings":"AAAA,YAAA,IAAMA,WAAY,2/DAEZC,KACJC,MAAO,KACPC,KAAM,KAENC,KAJU,WAKRC,KAAKH,MAAQI,SAASC,eAAe,QACrCF,KAAKF,KAAOG,SAASC,eAAe,QAEpCF,KAAKG,YAGPA,SAXU,WAYRH,KAAKH,MAAMO,iBAAiB,QAAS,SAASC,GAAKT,IAAIU,QAAQD,KAC/DL,KAAKF,KAAKM,iBAAiB,QAAS,SAASC,GAAKT,IAAIW,SAASF,MAGjEE,SAhBU,SAgBDF,GACPL,KAAKQ,SAASH,EAAEI,QAChBT,KAAKH,MAAMa,MAAQL,EAAEI,OAAOE,YAC5BX,KAAKH,MAAMe,QACXZ,KAAKF,KAAKe,UAAY,IAGxBP,QAvBU,SAuBFD,GACN,GAAMS,GAAMd,KAAKH,MAAMa,MAAMK,cACzBC,EAAOX,EAAEY,KAYb,IAXa,OAATD,IAAiBA,EAAOX,EAAEa,SAGjB,KAATF,IACFhB,KAAKF,KAAKe,UAAY,KAGnB,GAAI,IAAIM,SAASH,IACpBhB,KAAKoB,SAASJ,KAGXA,EAAO,MAAS,EAAG,GAAI,IAAIG,SAASH,GAAzC,CAMA,GAAIlB,GAAO,EACPgB,IACFnB,UAAU0B,MAAM,KAAKC,QAAQ,SAAAC,GACvBA,EAAKR,cAAcI,SAASL,KAC9BhB,GAAAA,OAAeyB,EAAf,WAINvB,KAAKwB,OAAO1B,KAGd0B,OAtDU,SAsDH1B,GACLE,KAAKF,KAAKe,UAAYf,GAGxBsB,SA1DU,SA0DDJ,GACP,GAAMS,GAASxB,SAASyB,cAAc,YACtC,IAAID,EAAQ,CACV,GAAME,GAAmB,KAATX,EAAcS,EAAOG,mBAAqBH,EAAOI,sBAC7DF,KACFF,EAAOK,UAAUC,OAAO,UACxBJ,EAAQG,UAAUE,IAAI,UACtBhC,KAAKQ,SAASmB,GAEd3B,KAAKF,KAAKmC,WAAcN,EAAQO,aAAeC,SAASD,aAExDE,QAAQC,IACNrC,KAAKF,KAAKmC,UACVN,EAAQW,UACRX,EAAQO,aACRlC,KAAKF,KAAKoC,cAEZlC,KAAKF,KAAKmC,UAAYN,EAAQW,UAAYtC,KAAKF,KAAKoC,aAAeP,EAAQO,kBAIxE,CACL,GAAMK,GAAgB,KAATvB,EAAchB,KAAKF,KAAK0C,kBAAoBxC,KAAKF,KAAK2C,gBAC/DF,KACFA,EAAKT,UAAUE,IAAI,UACnBhC,KAAKQ,SAAS+B,MAKpB/B,SAxFU,SAwFDkC,GACP1C,KAAKH,MAAMa,MAAQgC,EAAG/B,aAK1BgC,GAAE1C,UAAU2C,MAAM,WAChBhD,IAAIG","file":"main.js","sourcesContent":["const countries = \"Австралия_Австрия_Азербайджан_Албания_Алжир_Ангола_Андорра_Антигуа и Барбуда_Аргентина_Армения_Афганистан_Багамы_Бангладеш_Барбадос_Бахрейн_Белоруссия_Белиз_Бельгия_Бенин_Болгария_Боливия_Босния и Герцеговина_Ботсвана_Бразилия_Бруней_Буркина-Фасо_Бурунди_Бутан_Вануату_Великобритания_Венгрия_Венесуэла_Восточный Тимор_Вьетнам_Габон_Гаити_Гайана_Гамбия_Гана_Гватемала_Гвинея_Гвинея-Бисау_Германия_Гондурас_Гренада_Греция_Грузия_Дания_Джибути_Доминика_Доминиканская Республика_Египет_Замбия_Зимбабве_Израиль_Индия_Индонезия_Иордания_Ирак_Иран_Ирландия_Исландия_Испания_Италия_Йемен_Кабо-Верде_Казахстан_Камбоджа_Камерун_Канада_Катар_Кения_Кипр_Киргизия_Кирибати_КНР_Колумбия_Коморы_Республика Конго_Демократическая Республика Конго_КНДР_Республика Корея_Коста-Рика_Кот-д’Ивуар_Куба_Кувейт_Лаос_Латвия_Лесото_Либерия_Ливан_Ливия_Литва_Лихтенштейн_Люксембург_Маврикий_Мавритания_Мадагаскар_Македония_Малави_Малайзия_Мали_Мальдивы_Мальта_Марокко_Маршалловы Острова_Мексика_Мозамбик_Молдавия_Монако_Монголия_Мьянма_Намибия_Науру_Непал_Нигер_Нигерия_Нидерланды_Никарагуа_Новая Зеландия_Норвегия_ОАЭ_Оман_Пакистан_Палау_Панама_Папуа — Новая Гвинея_Парагвай_Перу_Польша_Португалия_Россия_Руанда_Румыния_Сальвадор_Самоа_Сан-Марино_Сан-Томе и Принсипи_Саудовская Аравия_Свазиленд_Сейшельские Острова_Сенегал_Сент-Винсент и Гренадины_Сент-Китс и Невис_Сент-Люсия_Сербия_Сингапур_Сирия_Словакия_Словения_США_Соломоновы Острова_Сомали_Судан_Суринам_Сьерра-Леоне_Таджикистан_Таиланд_Танзания_Того_Тонга_Тринидад и Тобаго_Тувалу_Тунис_Туркмения_Турция_Уганда_Узбекистан_Украина_Уругвай_Федеративные Штаты Микронезии_Фиджи_Филиппины_Финляндия_Франция_Хорватия_Центральноафриканская Республика_Чад_Черногория_Чехия_Чили_Швейцария_Швеция_Шри-Ланка_Эквадор_Экваториальная Гвинея_Эритрея_Эстония_Эфиопия_ЮАР_Южный Судан_Ямайка_Япония_Ватикан_Государство Палестина_Ниуэ_Острова Кука_Республика Абхазия_Республика Косово_Северный Кипр_Китайская Республика_Южная Осетия_Сахарская Арабская Демократическая Республика_ДНР_ЛНР_НКР_Приднестровье_Сомалиленд_Азад Кашмир\";\r\n\r\nconst App = {\r\n  input: null,\r\n  list: null,\r\n\r\n  init() {\r\n    this.input = document.getElementById('text');\r\n    this.list = document.getElementById('list');\r\n\r\n    this.handlers();\r\n  },\r\n\r\n  handlers() {\r\n    this.input.addEventListener('keyup', function(e) { App.onKeyUp(e); });\r\n    this.list.addEventListener('click', function(e) { App.onSelect(e); });\r\n  },\r\n\r\n  onSelect(e) {\r\n    this.setValue(e.target);\r\n    this.input.value = e.target.textContent;\r\n    this.input.focus();\r\n    this.list.innerHTML = '';\r\n  },\r\n\r\n  onKeyUp(e) {\r\n    const val = this.input.value.toLowerCase();\r\n    let code = e.which;\r\n    if (code === null) { code = e.keyCode; }\r\n\r\n\r\n    if (code === 13) {\r\n      this.list.innerHTML = '';\r\n    }\r\n\r\n    if ([38, 40].includes(code)) {\r\n      this.navigate(code);\r\n    }\r\n\r\n    if ((code < 60) && ![8, 32, 46].includes(code)) {\r\n      return;\r\n    }\r\n\r\n\r\n\r\n    let list = '';\r\n    if (val) {\r\n      countries.split('_').forEach(item => {\r\n        if (item.toLowerCase().includes(val)) {\r\n          list += `<li>${item}</li>`;\r\n        }\r\n      });\r\n    }\r\n    this.render(list);\r\n  },\r\n\r\n  render(list) {\r\n    this.list.innerHTML = list;\r\n  },\r\n\r\n  navigate(code) {\r\n    const active = document.querySelector('li.active');\r\n    if (active) {\r\n      const sibling = code === 40 ? active.nextElementSibling : active.previousElementSibling;\r\n      if (sibling) {\r\n        active.classList.remove('active');\r\n        sibling.classList.add('active');\r\n        this.setValue(sibling);\r\n\r\n        this.list.scrolltop += (sibling.offsetHeight - thislist.offsetHeight);\r\n\r\n        console.log(\r\n          this.list.scrolltop,\r\n          sibling.offsetTop,\r\n          sibling.offsetHeight,\r\n          this.list.offsetHeight);\r\n\r\n        this.list.scrolltop = sibling.offsetTop - this.list.offsetHeight + sibling.offsetHeight;\r\n\r\n\r\n      }\r\n    } else {\r\n      const side = code === 40 ? this.list.firstElementChild : this.list.lastElementChild; \r\n      if (side) {\r\n        side.classList.add('active');\r\n        this.setValue(side);\r\n      }\r\n    }\r\n  },\r\n\r\n  setValue(el) {\r\n    this.input.value = el.textContent;\r\n  }\r\n\r\n};\r\n\r\n$(document).ready(() => {\r\n  App.init();\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const App = {\r\n//   toDo: null,\r\n//   input: null,\r\n//   add: null,\r\n//   remove: null,\r\n//   state: [],\r\n\r\n//   init() {\r\n//     this.toDo = document.getElementById('to-do');\r\n//     this.input = document.getElementById('text');\r\n//     this.add = document.getElementById('add');\r\n//     this.remove = document.getElementById('remove');\r\n\r\n//     this.handlers();\r\n//     this.getState();\r\n//     this.render();\r\n//   },\r\n\r\n//   handlers() {\r\n//     this.add.addEventListener('click', function() { App.onAdd(); });\r\n//     this.remove.addEventListener('click', function() { App.onRemove(); });\r\n//     this.input.addEventListener('keyup', function(e) { App.onKeyUp(e); });\r\n//   },\r\n\r\n//   onAdd() {\r\n//     const value = this.input.value;\r\n//     if (value) {\r\n//       this.state.push({checked: false, text: value});\r\n//       this.render();\r\n//       this.input.value = '';\r\n//       this.saveState();\r\n//     }\r\n    \r\n//   },\r\n\r\n//   onRemove() {\r\n//     this.state = this.state.filter(item => !item.checked);\r\n//     this.render();\r\n//     this.saveState();\r\n//   },\r\n\r\n//   onKeyUp(e) {\r\n//     if (e.keyCode === 13) {\r\n//       this.onAdd();\r\n//     }\r\n//   },\r\n\r\n//   createItem(text, checked = false) {\r\n//     return `<li><label><input type=\"checkbox\" ${checked ? 'checked' : ''}>${text}</label></li>`;\r\n//   },\r\n\r\n//   render() {\r\n//     const list = this.state.map(item => {\r\n//       return App.createItem(item.text, item.checked);\r\n//     });\r\n//     this.toDo.innerHTML = list.join('');\r\n//     this.setHandlers();\r\n//   },\r\n\r\n//   setHandlers() {\r\n//     const list = document.querySelectorAll('[type=checkbox]');\r\n//     [...list].forEach((item, i) => {\r\n//       item.addEventListener('change', function() {\r\n//         App.state[i].checked = this.checked;\r\n//         App.saveState();\r\n//       });\r\n//     });\r\n//   },\r\n\r\n//   saveState() {\r\n//     localStorage.setItem('to-do', JSON.stringify(App.state));\r\n//   },\r\n\r\n//   getState() {\r\n//     this.state = JSON.parse(localStorage.getItem('to-do')) || [];\r\n//   }\r\n// };\r\n\r\n// $(document).ready(() => {\r\n//   App.init();\r\n// });\r\n"]}